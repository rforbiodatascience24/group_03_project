---
title: "Get_data"
format: html
editor: visual
---

```{r}
library(RCurl) 
library(jsonlite) 
library(dplyr) 
library(here)

# Create 'data' directory if it doesn't exist

if (!dir.exists(here("data"))) {dir.create(here("data"))  }

# Fetch dataset

url <- 
  "https://archive.ics.uci.edu/ml/machine-learning-databases/00296/dataset_diabetes.zip"
temp <- tempfile()


download.file(url, temp)

# Unzip files directly into the 'data' directory

unzip(temp, exdir = here("data"))

# Define paths

path_a <- file.path(here("data"), "dataset_diabetes")

path_b <- file.path(here("data"))

# Get the list of files with their full paths from 'path_a'

my_files <- list.files(path_a, full.names = TRUE)

# Copy files to 'path_b'

file.copy(from = my_files, to = path_b, overwrite = TRUE)

# Delete the now-empty folder

unlink(path_a, recursive = TRUE)
```
