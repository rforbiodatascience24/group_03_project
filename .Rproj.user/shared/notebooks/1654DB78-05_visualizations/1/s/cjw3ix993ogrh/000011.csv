"0","barplot1 <- data |>"
"0","  filter(gender != ""Unknown/Invalid"", "
"0","         race != ""Other"") |>"
"0","  group_by(age, "
"0","           gender, "
"0","           race) |> "
"0","  summarize(average_diagnoses = mean(number_diagnoses), .groups = ""drop"") |> "
"0","ggplot("
"0","  mapping = aes(x = age,"
"0","                y = average_diagnoses,"
"0","                fill = gender)"
"0",") +"
"0","  geom_col(position = ""dodge"", "
"0","           alpha = 1.0) +"
"0","  facet_wrap(~ race) +"
"0","  labs("
"0","    x = ""Age Group"","
"0","    y = ""Average number of diagnoses"","
"0","    fill = ""Gender"","
"0","    title = ""Average number of diagnoses for all age groups and genders facet wrapped for race"""
"0","  ) +"
"0","  scale_fill_manual(values=c('hotpink',"
"0","                             'cornflowerblue',"
"0","                             'grey35')) +"
"0","    theme_minimal() +"
"0","    theme("
"0","      axis.text.x = element_text(angle = 60, hjust =1)"
"0","    )"
"0",""
"0","barplot1"
