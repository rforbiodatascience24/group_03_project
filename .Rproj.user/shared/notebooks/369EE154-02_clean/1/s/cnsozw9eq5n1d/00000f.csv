"0","suppressWarnings({"
"0","#Data is loaded without defined column names"
"0","meta_data <- read_csv(here(""data/_raw/IDs_mapping.csv""),"
"0","                      na = """", "
"0","                      col_names = c(""type_id"", ""description""), "
"0","                      show_col_types = FALSE)"
"0",""
"0",""
"0","# Remove NA columns and add a column based on admission type, that is numeric. The NA values in this, will be the names of the type of metadata the id describes. Also adds a meta_type column, which has the type in the cells that are NAs in the numeric type_id_as_num"
"0","meta_data <- meta_data |> "
"0","  na.omit() |> "
"0","  mutate(type_id, "
"0","         type_id_as_num = as.numeric(type_id)) |> "
"0","  mutate(meta_type = ifelse(is.na(type_id_as_num), "
"0","                            type_id, "
"0","                            NA))"
"0",""
"0","#Fills meta_type with the last non-NA cell "
"0","meta_data <- meta_data |> "
"0","    fill(meta_type)"
"0",""
"0","#Removes the rows containing the names, drops admission_type_is_as_num"
"0","meta_data_clean <- meta_data |> "
"0","  filter(!is.na(type_id_as_num)) |> "
"0","  select(!type_id) |> "
"0","  rename(type_id = type_id_as_num)"
"0",""
"0","})"
"0",""
"0","admission_type <- meta_data_clean |> "
"0","  filter(meta_type == ""admission_type_id"") |> "
"0","  select(-meta_type) |> "
"0","  mutate(description = case_when(description %in% c(""NULL"", ""Not Mapped"", ""Not Available"") ~ NA, "
"0","                                 TRUE ~ description))"
"0",""
"0","discharge_disposition <- meta_data_clean |> "
"0","  filter(meta_type == ""discharge_disposition_id"") |> "
"0","  select(-meta_type) |> "
"0","  mutate(description = case_when(description %in% c(""NULL"", ""Not Mapped"", ""Unknown/Invalid"") ~ NA, "
"0","                                 TRUE ~ description))"
"0",""
"0","admission_source <- meta_data_clean |> "
"0","  filter(meta_type == ""admission_source_id"") |> "
"0","  select(-meta_type) |> "
"0","  mutate(description = case_when(description %in% c(""NULL"", ""Not Mapped"", ""Unknown/Invalid"", ""Not Available"") ~ NA, "
"0","                                 TRUE ~ description))"
